<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="/WaterCss.css" rel="stylesheet" />
    <link rel="stylesheet" href="/Content/bootstrap.css">
    <title>Start</title>
</head>
<body>

    <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="#">The Water Jug Game</a>
            </div>
            <div class="collapse navbar-collapse">
                <ul class="nav navbar-nav">
                    <li class="active"><a href="#">StartPage</a></li>
                   
                   
                </ul>
            </div><!--/.nav-collapse -->
        </div>
    </div>

    <div class="container">
        <div class="starter-template">
            <div class="col-sm-10">
                <!--explain game to user-->
                <h1 style="text-align:center;">You have two jugs. One jug has a capacity of 5 gallons and the other jug has a capacity of 3 gallons. You have an unlimited supply of water. Can you measure exactly 4 gallons using the jugs?</h1>
                <div class="row">

                    <form id="nameForm" method="get" action="Game.html">
                        <div class="col-sm-5 nameInput input-group-lg">
                           
                            <input type="text" name="Name" id="Name" class="form-control" placeholder="Enter your Name" />
                            <br />
                            <button class="btn btn-primary btn-lg pull-right" type="submit" id="startGame">Start!</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="/Scripts/jquery-2.1.1.js"></script>
    <script src="/Scripts/jquery.validate.js"></script>
    <script src="/Scripts/bootstrap.js"></script>
    <script type="text/javascript" src="/Scripts/WaterJavaScript.js"></script>
    <script type="text/javascript">
        //wire up the start game button and validate the name field form
        water.startup = function () {
            //$("#startGame").on("click", water.page.startGame);
            water.page.setUpValidation();
      
        }
        //set up validation on the name input field to be required(can't start game without it) and minimum characters of 2
        water.page.setUpValidation = function () {
            $("#nameForm").validate({
                rules: {
                    Name: {
                        required: true,
                        minlength: 2
                    }
                },
                messages: {
                    Name: {
                        required: "Please enter your name to proceed",
                        minlength: "Please enter at least 2 characters"
                    }
                }
            });
        }
        //form we are validating
        water.page.targetForm = $("#nameForm");
        //grab the name from the name input field and send it in the url to the next page if the form is valid
        water.page.startGame = function () {
            var name = $("#Name").val();
            if (!water.page.targetForm.valid()) {
                return;
            }
            else {
                window.location.href = "/Game.html" + "?"+ "Name=" + encodeURIComponent(name);
            }
        }
    </script>
    <script type="text/javascript">
        $(document).ready(water.startupLayout);
    </script>
</body>
</html>
